source ./secrets

src='prometheus/configs/alert_rules.d_examples/'
dst='prometheus/configs/alert_rules.d/'

configs=$(ls ${src})

for conf in $configs
    do
    cat ${src}${conf} | \
    sed -e "s@{{ GRAFANA_ALL_ALERTS_DASHBOARD }}@$GRAFANA_ALL_ALERTS_DASHBOARD@g" | \
    sed -e "s@{{ GRAFANA_NODE_EXPORTER_ALERTS_DASHBOARD }}@$GRAFANA_NODE_EXPORTER_ALERTS_DASHBOARD@g" | \
    sed -e "s@{{ GRAFANA_MONIT_DASHBOARD }}@$GRAFANA_MONIT_DASHBOARD@g" | \
    sed -e "s@{{ GRAFANA_MYSQL_DASHBOARD }}@$GRAFANA_MYSQL_DASHBOARD@g" | \
    sed -e "s@{{ GRAFANA_PROXYSQL_DASHBOARD }}@$GRAFANA_PROXYSQL_DASHBOARD@g" | \
    sed -e "s@{{ WIKI_MONITORING_ACCESS }}@$WIKI_MONITORING_ACCESS@g" \
    > ${dst}${conf}
done

